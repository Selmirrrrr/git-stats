# GitStats

GitStats is a comprehensive solution for analyzing Git repository statistics. It consists of two parts: a .NET console application that extracts commit data from multiple repositories, and a web-based dashboard for visualizing the statistics.

## Components

### 1. GitStats Console Application

A .NET console application that extracts commit statistics from multiple Git repositories located in a given folder, and exports the data to JSON and CSV files.

### 2. GitStats Dashboard

A web-based dashboard built with React and Chart.js that visualizes the commit statistics from the JSON output file.

## Features

- **Data Collection**:
  - Processes multiple Git repositories in parallel for improved performance
  - Extracts commit information for a specified date range
  - Includes commit ID, timestamp, author/committer details, commit message, and line change statistics
  - Exports consolidated data to both JSON and CSV formats
  - Command-line interface with configurable options

- **Data Visualization**:
  - Interactive dashboard with various charts and statistics
  - Search functionality for finding specific commits
  - Top committer analysis (by additions, deletions, total commits)
  - Time-based analysis (commits by weekday, month, day of month)
  - Early morning commit analysis (commits between midnight and 6 AM)

## Requirements

- .NET 9.0 SDK or later
- Git installed on the system
- Node.js and npm (for the web dashboard)

## Installation

1. Clone or download this repository
2. Build the console application:
   ```
   dotnet build
   ```
3. Install the web dashboard dependencies:
   ```
   cd WebUI
   npm install
   ```

## Usage

### Running the Console Application

Run the application with the required parameters:

```
dotnet run --folder <repository-base-path> [--start-date <yyyy-MM-dd>] [--end-date <yyyy-MM-dd>] [--output-json <output.json>] [--output-csv <output.csv>]
```

#### Parameters:

- `--folder`: Base folder containing Git repositories (required)
- `--start-date`: Start date for commit history (default: 30 days ago)
- `--end-date`: End date for commit history (default: today)
- `--output-json`: Output JSON file path (default: git-stats.json)
- `--output-csv`: Output CSV file path (default: git-stats.csv)

#### Example:

```
dotnet run --folder /path/to/repositories --start-date 2024-01-01 --end-date 2024-03-01 --output-json stats.json --output-csv stats.csv
```

### Running the Web Dashboard

```
cd WebUI
npm run dev
```

This will start the development server, and you can access the dashboard at http://localhost:3000. Upload the JSON file generated by the console application to visualize the statistics.

## Output Format

The console application generates two output files:

### JSON Format

```json
[
  {
    "CommitId": "abcd1234...",
    "CommitTime": "2024-02-15 10:30:45",
    "CommitterEmail": "user@example.com",
    "CommitterName": "John Doe",
    "CommitMessage": "Fix login bug",
    "Additions": 15,
    "Deletions": 7,
    "RepositoryName": "repo1"
  },
  ...
]
```

### CSV Format

The CSV file contains the same data with headers:
- Commit ID
- Commit Time
- Committer Email
- Committer Name
- Commit Message
- Additions
- Deletions
- Repository Name

## Dashboard Features

The web dashboard provides various visualizations and insights:

1. **Repository Overview**:
   - Total number of commits
   - Total additions and deletions
   - Total number of contributors

2. **Search Functionality**:
   - Search for commits by ID, message, author, or repository

3. **Top Committer Analysis**:
   - Top committers by number of commits
   - Top committers by total changes (additions + deletions)
   - Top committers by additions
   - Top committers by deletions
   - Top "night owls" (commits between midnight and 6 AM)

4. **Time-based Analysis**:
   - Commits by day of week
   - Commits by month
   - Commits by day of month

## Performance Considerations

- The console application processes repositories in parallel using tasks to improve performance
- Large repositories with extensive commit histories might take longer to process
- The application reports processing time upon completion
- The web dashboard is optimized for handling large datasets with efficient rendering